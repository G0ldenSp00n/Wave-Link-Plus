/* WaveLink subclass */
class SVGIconWL extends SVGIcon {
    constructor (settings, inOptions, inDebug = false) {
       
        super(Object.assign(settings, inOptions, inDebug));

        // Without updateLock the change event will be triggert with default settings / icon
        this.updateLock = true;
        this.underlay_local_svg = `<path id="local" transform="translate(-36 36)" opacity="0.5" fill="#000" d="M52,79 L52,111 L45,111 L44.6874023,110.987965 C42.6909133,110.833637 41.1052541,109.213575 41.0050311,107.202383 L41,107 L41,83 L41.0120345,82.6874023 C41.1663624,80.6909133 42.7864253,79.1052541 44.7976169,79.0050311 L45,79 L52,79 Z M99,79 L99.3125976,79.0120348 C101.309087,79.1663628 102.894746,80.7864255 102.994969,82.7976169 L103,83 L103,107 L102.987966,107.312598 C102.841691,109.204902 101.378666,110.728135 99.5138906,110.967296 L99.3125976,110.987965 L99,111 L92,111 L92,79 L99,79 Z M90.0004086,79.1259124 L90.0000933,110.874006 C88.3376411,110.446164 87.0934371,108.976439 87.0050311,107.202383 L87,107 L87,83 L87.0120348,82.6874023 C87.1453452,80.9628059 88.3723518,79.5447608 90.0004086,79.1259124 Z M56.9949689,82.7976169 L57,83 L57,107 L56.9879652,107.312598 C56.8546828,109.036831 55.628165,110.454642 54.0006199,110.873823 L54.0009091,79.1262519 C55.6628591,79.5544273 56.9065807,81.0239172 56.9949689,82.7976169 Z M72,32 C92.9622954,32 110.061881,48.4322088 110.962691,69.0396356 L110.985017,69.6653685 L111,70.7499999 L111,92.0625 L110.986881,92.2884531 C110.88902,93.1256027 110.254086,93.7999912 109.433384,93.9625652 L109.277411,93.9869647 L109.05,94 L108.814305,93.9859912 C108.017512,93.8906096 107.368628,93.3177869 107.165921,92.5638765 L107.131417,92.4107677 L107.1,92.0625 L107.1,70.7499999 L107.09393,70.0948078 C106.742372,51.1362203 91.1649083,35.875 72,35.875 C53.1513595,35.875 37.7727386,50.636681 36.9358621,69.15929 L36.9149647,69.721721 L36.9,70.7499999 L36.9,92.0625 L36.8868809,92.2884531 C36.7890201,93.1256027 36.1540856,93.7999912 35.3333839,93.9625652 L35.1774112,93.9869647 L34.95,94 L34.7143052,93.9859912 C33.9175119,93.8906096 33.2686286,93.3177869 33.0659212,92.5638765 L33.0314171,92.4107677 L33,92.0625 L33,70.7499999 L33.0059122,70.06838 C33.3719699,48.9818022 50.6900343,32 72,32 Z"/>`;
        this.underlay_stream_svg = `<path id="stream" transform="translate(12 -29)" opacity=".4" d="M119.3762 24.4345c26.165 26.1651 26.165 68.5871 0 94.7523-1.246 1.246-3.2661 1.246-4.512 0-1.246-1.246-1.246-3.266 0-4.512 23.6732-23.6732 23.6732-62.0551 0-85.7283-1.246-1.246-1.246-3.266 0-4.512 1.2459-1.246 3.266-1.246 4.512 0zm-90.2403 0c1.246 1.246 1.246 3.266 0 4.512-23.6733 23.6732-23.6733 62.055 0 85.7283 1.246 1.246 1.246 3.266 0 4.512-1.246 1.246-3.2661 1.246-4.512 0-26.1652-26.1652-26.1652-68.5872 0-94.7523 1.2459-1.246 3.266-1.246 4.512 0zm73.5626 18.6776c16.402 16.402 16.402 42.995 0 59.397-1.2617 1.2617-3.3073 1.2617-4.569 0-1.2617-1.2617-1.2617-3.3073 0-4.569 13.8786-13.8786 13.8786-36.3803 0-50.259-1.2617-1.2617-1.2617-3.3073 0-4.569 1.2617-1.2617 3.3073-1.2617 4.569 0zm-54.828 0c1.2617 1.2617 1.2617 3.3073 0 4.569-13.8786 13.8787-13.8786 36.3804 0 50.259 1.2617 1.2617 1.2617 3.3073 0 4.569-1.2617 1.2617-3.3073 1.2617-4.569 0-16.402-16.402-16.402-42.995 0-59.397 1.2617-1.2617 3.3073-1.2617 4.569 0zM74 60.8106c7.1797 0 13 5.8203 13 13s-5.8203 13-13 13-13-5.8203-13-13 5.8203-13 13-13z"/>`;

        this.fontSize = {upper: 31,lower: 31},
        this.addLayer('underlay_local', (o) => this.underlay_local_svg, {visible: true});
        this.addLayer('underlay_stream', (o) => this.underlay_stream_svg, {visible: true});
        this.addLayer('macAppIcon', (o) => `<image id="img" width="144" height="144" x="0" y="0" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="/>`);
        this.addLayer('mute', (o) => `<path id="mask" fill="${this._options.backgroundColor}" fill-rule="nonzero" d="M144,0 L144,144 L0,144 L0,0 L144,0 Z M114,9 L28,9 C15.9712381,9 8.19722475,16.6537257 8.00294735,28.6361897 L8,31 L8,117 C8,129.028762 15.6537257,136.802775 27.6361897,136.997052 L30,137 L116,137 C128.028762,137 135.802775,129.346274 135.997052,117.36381 L136,115 L136,29 C136,16.9712381 128.346274,9.19722475 116.36381,9.00294735 L114,9 Z"/><rect ${this._props(o)} width="128" height="128" x="8" y="8" fill="#0E0B1DCC" rx="20"/>`, {visible: true, opacity: .5}, ['overlay']);

        // v3 modify the settings after the base class construcor
        // that's most likely most convenient and readably
        // this.layerOrder = ["background", "underlay", "mute", "icon", "overlay", "text"];

    }

}